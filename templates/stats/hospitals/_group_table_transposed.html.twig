{# templates/stats/hospitals/_group_table_transposed.html.twig #}
<div class="table-responsive">
    <table class="table table-striped card-table">
        <thead>
        <tr>
            <th>Merkmal</th>
            {% for group in groups %}
                <th class="text-end">
                    {{ (translation_prefix ~ group.groupKey)|default(group.groupLabel)|trans }}
                </th>
            {% endfor %}
        </tr>
        </thead>

        <tbody>
        <tr>
            <th>Kliniken</th>
            {% for group in groups %}
                <td class="text-end">
                    {{ group.hospitalCount }}
                    {% if totalHospitals > 0 %}
                        <span class="text-muted">
                            ({{ (group.hospitalShare * 100)|number_format(1, ',', '.') }}%)
                        </span>
                    {% endif %}
                </td>
            {% endfor %}
        </tr>

        <tr>
            <th>Kliniken (teilnehmend)</th>
            {% for group in groups %}
                <td class="text-end">
                    {{ group.participantHospitalCount }}
                    {% if totalParticipantHospitals > 0 %}
                        <span class="text-muted">
                            ({{ (group.participantHospitalShare * 100)|number_format(1, ',', '.') }}%)
                        </span>
                    {% endif %}
                </td>
            {% endfor %}
        </tr>

        <tr>
            <th>Ø Betten</th>
            {% for group in groups %}
                <td class="text-end">
                    {% if group.avgBeds is not null %}
                        {{ group.avgBeds|number_format(1, ',', '.') }}
                    {% else %}
                        <span class="text-muted">–</span>
                    {% endif %}
                </td>
            {% endfor %}
        </tr>

        <tr>
            <th>SD Betten</th>
            {% for group in groups %}
                <td class="text-end">
                    {% if group.sdBeds is not null %}
                        {{ group.sdBeds|number_format(1, ',', '.') }}
                    {% else %}
                        <span class="text-muted">–</span>
                    {% endif %}
                </td>
            {% endfor %}
        </tr>

        <tr>
            <th>Var Betten</th>
            {% for group in groups %}
                <td class="text-end">
                    {% if group.varBeds is not null %}
                        {{ group.varBeds|number_format(1, ',', '.') }}
                    {% else %}
                        <span class="text-muted">–</span>
                    {% endif %}
                </td>
            {% endfor %}
        </tr>

        <tr>
            <th>Einsätze</th>
            {% for group in groups %}
                <td class="text-end">
                    {{ group.allocationCount }}
                    {% if totalAllocations > 0 %}
                        <span class="text-muted">
                            ({{ (group.allocationShare * 100)|number_format(1, ',', '.') }}%)
                        </span>
                    {% endif %}
                </td>
            {% endfor %}
        </tr>
        </tbody>
    </table>
</div>
